<div class="min-h-screen" data-controller="scroll-animate">
  <%# Hero Section %>
  <section class="wedding-hero">
    <%= image_tag current_wedding.hero[:image_url],
        alt: current_wedding.title,
        class: "wedding-hero-image" %>
    <div class="wedding-hero-overlay"></div>
    <div class="wedding-hero-content">
      <div class="text-center px-4 animate-fade-in-up">
        <div class="mb-8 animate-scale-in">
          <div class="w-px h-16 bg-white/30 mx-auto mb-8"></div>
        </div>
        <h1 class="wedding-hero-title text-white">
          <%= current_wedding.title %>
        </h1>
        <div class="wedding-divider-horizontal w-24 mb-8 animate-grow-width"></div>
        <p class="wedding-hero-subtitle text-white">
          <%= current_wedding.hero[:tagline] %>
        </p>
        <div class="space-y-3 text-base font-light tracking-wider text-white">
          <% if current_wedding.date %>
            <p><%= current_wedding.date_elegant %></p>
          <% end %>
          <p class="text-sm opacity-80"><%= current_wedding.venue_full %></p>
        </div>
      </div>
    </div>
  </section>

  <% if current_wedding.story[:enabled] %>
    <%# Our Story Section %>
    <section class="max-w-4xl mx-auto py-32 px-4">
      <div class="text-center animate-on-scroll" data-scroll-animate-target="item">
        <%= render "public/shared/divider" %>
        <div class="mb-12"></div>
        <%= render "public/shared/section_title", title: current_wedding.story[:title] %>
        <div class="space-y-8 leading-loose text-lg font-light max-w-2xl mx-auto text-stone-600">
          <% current_wedding.story[:paragraphs]&.each do |paragraph| %>
            <p><%= paragraph %></p>
          <% end %>
          <% if current_wedding.story[:closing] %>
            <p class="italic text-base text-stone-500">
              <%= current_wedding.story[:closing] %>
            </p>
          <% end %>
        </div>
        <div class="mt-16"></div>
        <%= render "public/shared/divider" %>
      </div>
    </section>
  <% end %>

  <%# Event Details %>
  <section class="py-32 border-y border-stone-200 bg-stone-100/50" id="events">
    <div class="max-w-6xl mx-auto px-4">
      <%= render "public/shared/section_title", title: "Event Details", centered: true %>
      <div class="mb-24"></div>
      <div class="grid md:grid-cols-3 gap-20">
        <%= render "public/shared/event_detail", icon: "calendar", title: "Date" do %>
          <% if current_wedding.date %>
            <p class="text-stone-600 font-light"><%= current_wedding.date.strftime("%A") %></p>
            <p class="text-stone-600 font-light"><%= current_wedding.date_formatted %></p>
          <% end %>
        <% end %>

        <%= render "public/shared/event_detail", icon: "clock", title: "Time", delay_class: "animation-delay-200" do %>
          <p class="text-stone-600 font-light">Ceremony at <%= current_wedding.ceremony_time %></p>
          <p class="text-sm text-stone-600 font-light opacity-70">Reception to Follow</p>
        <% end %>

        <%= render "public/shared/event_detail", icon: "map_pin", title: "Venue", delay_class: "animation-delay-400" do %>
          <p class="text-stone-600 font-light"><%= current_wedding.venue_name %></p>
          <p class="text-sm text-stone-600 font-light opacity-70">
            <%= [current_wedding.venue_city, current_wedding.venue_region].compact.join(", ") %>
          </p>
        <% end %>
      </div>
    </div>
  </section>

  <% if @events.any? %>
    <%# Schedule Section %>
    <section class="py-32 px-4">
      <div class="max-w-4xl mx-auto">
        <%= render "public/shared/divider" %>
        <div class="mb-12"></div>
        <%= render "public/shared/section_title", title: "Schedule", centered: true %>
        <div class="space-y-8">
          <% @events.each do |event| %>
            <div class="bg-white p-8 shadow-sm border border-stone-200/50 animate-on-scroll" data-scroll-animate-target="item">
              <h3 class="text-2xl mb-2 font-display text-stone-800">
                <%= event.name %>
              </h3>
              <% if event.datetime %>
                <p class="text-sm tracking-wider uppercase mb-4 text-stone-500 font-light">
                  <%= event.datetime.strftime("%I:%M %p") %>
                </p>
              <% end %>
              <% if event.location.present? %>
                <p class="text-stone-600 font-light"><%= event.location %></p>
              <% end %>
              <% if event.description.present? %>
                <p class="mt-4 text-stone-500 font-light"><%= event.description %></p>
              <% end %>
            </div>
          <% end %>
        </div>
      </div>
    </section>
  <% end %>

  <% if current_wedding.gallery[:enabled] && current_wedding.gallery[:images].present? %>
    <%# Photo Gallery %>
    <section class="py-32">
      <div class="max-w-7xl mx-auto px-4">
        <%= render "public/shared/divider" %>
        <div class="mb-12"></div>
        <%= render "public/shared/section_title", title: current_wedding.gallery[:title], centered: true %>
        <div class="mb-24"></div>
        <div class="grid md:grid-cols-3 gap-8">
          <% current_wedding.gallery[:images].each_with_index do |image, index| %>
            <% delay_class = index == 1 ? "animation-delay-200" : (index == 2 ? "animation-delay-400" : "") %>
            <div class="gallery-item animate-on-scroll <%= delay_class %>" data-scroll-animate-target="item">
              <%= image_tag image[:url], alt: image[:alt] %>
            </div>
          <% end %>
        </div>
      </div>
    </section>
  <% end %>

  <%# RSVP Call to Action %>
  <section class="py-32 border-y border-stone-200 bg-stone-100/50" id="rsvp-section">
    <div class="max-w-2xl mx-auto px-4 text-center">
      <%= render "public/shared/divider" %>
      <div class="mb-12"></div>
      <%= render "public/shared/section_title", title: current_wedding.rsvp_content[:title] %>
      <p class="text-lg mb-12 max-w-lg mx-auto leading-relaxed text-stone-600 font-light">
        <%= current_wedding.rsvp_content[:description] %>
      </p>
      <%= link_to current_wedding.rsvp_content[:button_text], public_rsvp_lookup_path,
          class: "btn-wedding-primary" %>
      <p class="text-sm tracking-wider mt-8 text-stone-400 font-light">
        <%= current_wedding.rsvp_content[:lookup_hint] %>
      </p>
    </div>
  </section>

  <%# Footer %>
  <footer class="wedding-footer">
    <p class="text-xs tracking-[0.2em] uppercase mb-2"><%= current_wedding.title %></p>
    <% if current_wedding.date %>
      <p class="text-xs font-light"><%= current_wedding.date_short %></p>
    <% end %>
  </footer>
</div>
